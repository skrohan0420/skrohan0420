<!DOCTYPE html>
<html>

<head>
	<title>Balls Falling on a Parabola</title>
</head>

<body>
	<canvas id="canvas" width="640" height="980"></canvas>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.17.1/matter.min.js"></script>
	<script>
		// Initialize the canvas
		var canvas = document.getElementById("canvas");
		var ctx = canvas.getContext("2d");

		// Create the physics engine
		var engine = Matter.Engine.create();
		engine.world.gravity.y = 0.5; // Set gravity

		// Create the ground
		var ground = Matter.Bodies.rectangle(canvas.width / 2, canvas.height - 10, canvas.width, 20, { isStatic: true });

		// Create the parabola
		var vertices = [];
		for (var x = 0; x <= canvas.width; x += 10) {
			var y = canvas.height - ((x - canvas.width / 2) * (x - canvas.width / 2)) / 100;
			vertices.push(Matter.Vector.create(x, y));
		}
		var parabola = Matter.Bodies.fromVertices(canvas.width / 2, 0, vertices, { isStatic: true });

		// Add the ground and parabola to the world
		Matter.World.add(engine.world, [ground, parabola]);

		// Create a ball when the mouse is clicked
		canvas.addEventListener("mousedown", function (event) {
			var ball = Matter.Bodies.circle(event.clientX - canvas.offsetLeft, event.clientY - canvas.offsetTop, 10);
			Matter.World.add(engine.world, [ball]);
		});

		// Draw the scene
		function draw() {
			// Clear the canvas
			ctx.clearRect(0, 0, canvas.width, canvas.height);

			// Update the physics engine
			Matter.Engine.update(engine);

			// Draw the ground and parabola
			ctx.fillStyle = "#ccc";
			ctx.fillRect(ground.position.x - canvas.width / 2, ground.position.y - canvas.height / 2, canvas.width, 20);
			ctx.strokeStyle = "#fff";
			ctx.beginPath();
			for (var i = 0; i < vertices.length; i++) {
				var vertex = vertices[i];
				ctx.lineTo(vertex.x - canvas.width / 2, vertex.y - canvas.height / 2);
			}
			ctx.stroke();

			// Draw the balls
			ctx.fillStyle = "#f00";
			for (var i = 0; i < engine.world.bodies.length; i++) {
				var body = engine.world.bodies[i];
				if (body.circleRadius) {
					ctx.beginPath();
					ctx.arc(body.position.x - canvas.width / 2, body.position.y - canvas.height / 2, body.circleRadius, 0, 2 * Math.PI);
					ctx.fill();
				}
			}

			// Request the next frame
			requestAnimationFrame(draw);
		}
		requestAnimationFrame(draw);
	</script>
</body>

</html>