<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Photon Wave Simulation</title>
    <style>
        canvas {
            border: 1px solid black;
            background-color: #000;
        }
    </style>
</head>
<body>
    <canvas id="photonCanvas"></canvas>
    <script>
        const canvas = document.getElementById('photonCanvas');
        const ctx = canvas.getContext('2d');

        // Set canvas size
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        // Define photon properties
        const photons = [];
        const photonCount = 200;

        for (let i = 0; i < photonCount; i++) {
            photons.push({
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height,
                speed: 2 + Math.random() * 2,
                angle: Math.random() * Math.PI * 2,
                wavelength: 400 + Math.random() * 300,
                color: `rgb(${Math.random() * 255}, ${Math.random() * 255}, ${Math.random() * 255})`,
                trail: [],
            });
        }

        // User interaction to create waves
        canvas.addEventListener('mousemove', (e) => {
            const mouseX = e.clientX;
            const mouseY = e.clientY;

            for (const photon of photons) {
                const dx = mouseX - photon.x;
                const dy = mouseY - photon.y;
                const distance = Math.sqrt(dx * dx + dy * dy);

                if (distance < 50) {
                    const angle = Math.atan2(dy, dx);
                    photon.angle = angle;
                }
            }
        });

        function draw() {
            ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            for (const photon of photons) {
                photon.trail.push({ x: photon.x, y: photon.y });
                if (photon.trail.length > 20) {
                    photon.trail.shift();
                }

                ctx.beginPath();
                ctx.moveTo(photon.x, photon.y);

                for (const point of photon.trail) {
                    ctx.lineTo(point.x, point.y);
                }

                ctx.strokeStyle = photon.color;
                ctx.lineWidth = 2;
                ctx.stroke();

                photon.x += Math.cos(photon.angle) * photon.speed;
                photon.y += Math.sin(photon.angle) * photon.speed;

                if (photon.x < 0 || photon.x > canvas.width || photon.y < 0 || photon.y > canvas.height) {
                    photon.x = Math.random() * canvas.width;
                    photon.y = Math.random() * canvas.height;
                }
            }

            requestAnimationFrame(draw);
        }

        draw();

        // Resize canvas with window
        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });
    </script>
</body>
</html>
